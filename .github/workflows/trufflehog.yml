name: Trufflehog-Trial

on:
  push:
    branches:
      - master-test
  pull_request:

permissions:
  contents: read
  id-token: write
  issues: write
  pull-requests: write

jobs:
  # TruffleHog:
  #   runs-on: ubuntu-latest
  #   defaults:
  #     run:
  #       shell: bash
  #   steps:
  #     - name: Checkout code
  #       uses: actions/checkout@v3
  #       with:
  #         fetch-depth: 0

  #     - name: TruffleHog OSS
  #       id: trufflehog
  #       uses: trufflesecurity/trufflehog@main
  #       continue-on-error: true
  #       with:
  #         path: ./
  #         base: "master-test"
  #         head: HEAD
  #         extra_args: --debug

  #     - name: Scan Results Status
  #       if: steps.trufflehog.outcome == 'failure'
  #       run: exit 1

  #     # - name: TruffleHog Actions Scan
  #     #   uses: edplato/trufflehog-actions-scan@master
  #       # uses: shraddha-jiem/trufflehog-actions-scan@master
  #       # with: 
  #       #   scanArguments: "--regex --max_depth=10 --rules /regexes.json"
  

  ZapBaseline:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: ZAP Scan
        uses: zaproxy/action-baseline@v0.12.0
        with:
          target: 'https://www2.dev-eiken-cbt.jiem.co.jp/spradm/index/login'
          rules_file_name: '.zap/rules.tsv'


      

      